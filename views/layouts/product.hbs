<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Danh sách sản phẩm</title>
  <link rel="stylesheet" href="css/manage.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link href="https://cdn.datatables.net/v/bs5/dt-1.13.4/datatables.min.css" rel="stylesheet" />
</head>

<body>
  <div class="container mt-4">
    <div class="row">
      <div class="col-sm-3">
        <a href="/manage"><img class="img-logo" src="img/logo.png" /></a>
      </div>
      <h3 class="text-center col-sm-3">All product</h3>

    </div>
    <div class="row">
      <div class="col-sm-3">
        <button onclick="addDialog()" class="btn btn-dark mt-4 mb-2">Thêm sản
          phẩm</button>
      </div>

    </div>
    <table class="table">
      <thead>
        <tr>
          <th>Ảnh</th>
          <th>Tên sản phẩm</th>
          <th>Hãng</th>
          <th>Giá</th>
          <th>Số lượng trong kho</th>
          <th>Mô tả</th>
          <th>Sửa</th>
          <th>Xóa</th>
        </tr>
      </thead>
      <tbody>
        {{#each product}}
        <tr>
          <td><img src="data:{{img.contentType}};base64,{{img.data}}" style="width: 70px; height: 70px;" /></td>
          <td
            style="width: 200px; height: 70px; word-wrap: break-word; display: inline-block;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;">
            {{name}}</td>
          <td>{{brand}}</td>
          <td>{{price}}</td>
          <td>{{quantyti}}</td>
          <td>{{descaption}}</td>
          <td><button
              onclick="editDialog(`{{_id}}`,`{{name}}`,`{{brand}}`,`{{price}}`,`{{quantyti}}`,`{{descaption}}`,`{{img.contentType}}`,`{{img.data}}`)"
              class="btn btn-warning"><i class="bi bi-pencil-square"></i></button></td>
          <td><button onclick="deleteAlert(`{{_id}}`)" class="btn btn-danger"><i class="bi bi-trash"></i></button></td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    <dialog id="upDialog" style="width: 800px;">
      <form id="formAddAndUpdate" method="POST" enctype="multipart/form-data">
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon1">Tên sản phẩm</span>
          <input type="text" class="form-control" placeholder="Tên sản phẩm" aria-label="Username" name="name" id="name"
            aria-describedby="basic-addon1" />
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon1">Hãng</span>
          <select id="brand" name="brand" class="form-control">
            <option value="Apple">Apple</option>
            <option value="Dell">Dell</option>
            <option value="Asus">Asus</option>
            <option value="Acer">Acer</option>
            <option value="HP">HP</option>
            <option value="MSI">MSI</option>
            <option value="Razer">Razer</option>
          </select>
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon1">Giá</span>
          <input type="number" id="price" class="form-control" placeholder="Giá" aria-label="Username"
            aria-describedby="basic-addon1" name="price" />
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon1">Sô lượng trong kho</span>
          <input type="number" class="form-control" placeholder="Sô lượng trong kho" aria-label="Username"
            aria-describedby="basic-addon1" name="quantyti" id="quantyti" />
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon1">Mô tả</span>
          <textarea type="text" class="form-control" placeholder="Mô tả" aria-label="Username"
            aria-describedby="basic-addon1" name="descaption" id="descaption"></textarea>
        </div>
        <div class="input-group mb-3">
          <input type="file" class="form-control" aria-describedby="basic-addon1" accept="image/*" name="myFile"
            id="imgInp" />
          <img id="blah" src="#" width="200px" height="100px" alt="your image" />
        </div>
        <div class="row">
          <div class="col-sm-2">
            <input type="button" onclick="closeDialog()" class="btn btn-danger" value="Cancel" />
          </div>
          <div class="col-sm-3">
            <input class="btn btn-primary" value="Save" type="button" onclick="save()" onchange="preview()" />
          </div>

        </div>
      </form>
    </dialog>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
    integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.datatables.net/v/bs5/dt-1.13.4/datatables.min.js"></script>
  <script src="script/product.js"></script>
</body>

</html>